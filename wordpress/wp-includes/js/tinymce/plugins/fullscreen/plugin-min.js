!function(){var e=function(){"use strict";var o=function(e){var n=e,t=function(){return n},i,r=function(){return o(t())};return{get:t,set:function(e){n=e},clone:r}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n,t=function(e){return{isFullscreen:function(){return null!==e.get()}}},i=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),r,f=function(e,n){e.fire("FullscreenStateChanged",{state:n})},h=i.DOM,m=function(){var e,n,t=window,i,r=document.body;return r.offsetWidth&&(e=r.offsetWidth,n=r.offsetHeight),t.innerWidth&&t.innerHeight&&(e=t.innerWidth,n=t.innerHeight),{w:e,h:n}},g=function(){var e=h.getViewPort();return{x:e.x,y:e.y}},v=function(e){window.scrollTo(e.x,e.y)},l,c=function(e,n){var t=document.body,i=document.documentElement,r,o,l,c,u=n.get(),s=function(){h.setStyle(l,"height",m().h-(o.clientHeight-l.clientHeight))},d=function(){h.unbind(window,"resize",s)};if(r=(o=e.getContainer()).style,c=(l=e.getContentAreaContainer().firstChild).style,u)c.width=u.iframeWidth,c.height=u.iframeHeight,u.containerWidth&&(r.width=u.containerWidth),u.containerHeight&&(r.height=u.containerHeight),h.removeClass(t,"mce-fullscreen"),h.removeClass(i,"mce-fullscreen"),h.removeClass(o,"mce-fullscreen"),v(u.scrollPos),h.unbind(window,"resize",u.resizeHandler),e.off("remove",u.removeHandler),n.set(null),f(e,!1);else{var a={scrollPos:g(),containerWidth:r.width,containerHeight:r.height,iframeWidth:c.width,iframeHeight:c.height,resizeHandler:s,removeHandler:d};c.width=c.height="100%",r.width=r.height="",h.addClass(t,"mce-fullscreen"),h.addClass(i,"mce-fullscreen"),h.addClass(o,"mce-fullscreen"),h.bind(window,"resize",s),e.on("remove",d),s(),n.set(a),f(e,!0)}},u,s=function(e,n){e.addCommand("mceFullScreen",function(){c(e,n)})},d=function(t){return function(e){var n=e.control;t.on("FullscreenStateChanged",function(e){n.active(e.state)})}},a,w=function(e){e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:d(e),context:"view"}),e.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:d(e)})};function C(){}return e.add("fullscreen",function(e){var n=o(null);return e.settings.inline||(s(e,n),w(e),e.addShortcut("Ctrl+Shift+F","","mceFullScreen")),t(n)}),C}()}();